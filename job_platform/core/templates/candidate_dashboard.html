{% extends 'base_candidate.html' %}
{% load static %}
{% block title %}Candidate Dashboard{% endblock %}

{% block content %}
<h4 class="mb-4">All Available Jobs</h4>

<div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4 align-items-stretch">
  {% for job in all_jobs %}
  <div class="col">
    <div class="job-card h-100 d-flex flex-column">
      <div class="mb-2">
        <span class="badge bg-secondary">{{ job.experience_level|title }}</span>
      </div>
      <h5>{{ job.title }}</h5>
      <p class="mb-1 text-muted">{{ job.company.name }}</p>
      <p class="mb-1">üìç {{ job.location }}</p>
      <p class="mb-1">üí∞ ${{ job.salary_min }} - ${{ job.salary_max }}</p>
      <p class="mb-1">Type: {{ job.employment_type|title }}</p>
      <p class="text-muted small">{{ job.description|truncatewords:25 }}</p>
      <div class="mt-auto">
        <a href="{% url 'job_detail_candidate' job.id %}" class="btn btn-outline-primary btn-sm">View Details</a>
      </div>
    </div>
  </div>
  {% empty %}
  <div class="col">
    <p class="text-muted">No jobs available at this moment.</p>
  </div>
  {% endfor %}
</div>
{% endblock %}
